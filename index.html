<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="./favicon.ico" />
    <link rel="stylesheet" href="./src/css/index.css" />
    <title>twoinfo</title>
  </head>

  <body>
    <div class="header-content">
      <div id="js-header-top-content" class="header-top-content">
        <ul class="content-wrapper vertical-center">
          <li>两点资讯，为摸鱼而生</li>
          <li>
            <a
              href="https://www.huxiu.com/"
              target="_blank"
              rel="noopener noreferrer"
              >友情链接</a
            >
          </li>
        </ul>
      </div>
    </div>
    <div class="channel-wrap">
      <div class="article-list fl"></div>
    </div>

    <template id="card">
      <div class="article-item-wrap card fl">
        <a target="_blank" class="img-wrap">
          <img alt="" class="img" />
        </a>
        <a target="_blank">
          <h3 class="channel-title two-lines"></h3>
        </a>
        <a target="_blank">
          <div class="bottom-line">
            <div class="bottom-line__time"></div>
          </div>
        </a>
      </div>
    </template>

    <script>
      const articles = [
        {
          href: 'https://www.huxiu.com/article/3407089.html',
          title: '半年营收227.46亿，“汾酒速度”背后的增长逻辑',
          img: 'src/img/163158574156.jpg',
          dateTime: '2024-08-28 16:56',
        },
        {
          href: 'https://www.huxiu.com/article/3410053.html',
          title: '对未来越悲观，越不想生孩子吗？',
          img: 'src/img/173104199442.jpg',
          dateTime: '2024-08-29 17:42',
        },
        {
          href: 'https://www.huxiu.com/article/3406836.html',
          title: '霸王茶姬创始人成了海底捞军师',
          img: 'src/img/145754383378.jpg',
          dateTime: '2024-08-28 15:36',
        },
        {
          href: 'https://www.huxiu.com/article/3409514.html',
          title: '没想到房子老龄化的程度会这么严重',
          img: 'src/img/3409514-mj-2.png',
          dateTime: '2024-08-29 09:01',
        },
      ]

      articles.sort((a, b) => new Date(b.dateTime) - new Date(a.dateTime))
      articles.forEach((article) => {
        const cardTemplate = document.querySelector('#card')
        const aEls = cardTemplate.content.querySelectorAll('a')
        for (const a of aEls) {
          a.href = article.href
        }

        const img = cardTemplate.content.querySelector('img')
        img.src = article.img

        const h3 = cardTemplate.content.querySelector('h3')
        h3.textContent = article.title

        const timeEl = cardTemplate.content.querySelector('.bottom-line__time')
        timeEl.textContent = article.dateTime

        const listEl = document.querySelector('.article-list')
        const clone = document.importNode(cardTemplate.content, true)
        listEl.appendChild(clone)
      })
    </script>
  </body>
</html>
